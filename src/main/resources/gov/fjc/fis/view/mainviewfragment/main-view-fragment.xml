<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<fragment xmlns="http://jmix.io/schema/flowui/fragment" xmlns:charts="http://jmix.io/schema/charts/ui">
    <data>
        <collection id="appropriationsDc" class="gov.fjc.fis.entity.Appropriation">
            <loader id="appropriationsDl" readOnly="true"/>
        </collection>
        <collection id="categoryDtosDc" class="gov.fjc.fis.entity.dto.CategoryDto">
            <loader id="categoryDtosDl" readOnly="true"/>
        </collection>
    </data>
    <content>
        <vbox id="root">
            <header text="Welcome to the FJC Financial Information System" css="font-size: 22px;"/>
            <tabSheet id="landingTabSheet" width="100%" height="100em" minHeight="50em">
                <tab id="messagesTab" label="Messages">
                    <vbox id="messageBox" spacing="false" padding="false"/>
                </tab>
                <tab id="sof" label="Status of Funds">
                    <vbox padding="false">
                        <entityComboBox id="appropriationsComboBox" itemsContainer="appropriationsDc"
                                        metaClass="fis_Appropriation" label="Appropriation" width="8em"/>
                        <details id="oneYearDetails" summaryText="One Year Appropriation" opened="true">
                            <dataGrid id="categoryDtoesDataGrid1" dataContainer="categoryDtosDc"
                                      aggregatable="true" selectionMode="NONE"
                                      themeNames="no-row-borders column-borders compact row-stripes"
                                      allRowsVisible="true" width="950px">
                                <actions/>
                                <columns sortable="false">
                                    <column property="titleAndCode" header="Object Class" width="240px"/>
                                    <column property="totalOneYearAllocations" header="Allocations" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalOneYearProjections" header="Projections" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalOneYearObligations" header="Obligations" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalOneYearReimbursements" header="Reimburse." textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalOneYearBalance" header="Balance" textAlign="END">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                </columns>
                            </dataGrid>
                        </details>
                        <details id="twoYearDetails" summaryText="Two Year Appropriation" opened="true">
                            <dataGrid id="categoryDtoesDataGrid2" dataContainer="categoryDtosDc"
                                      aggregatable="true" selectionMode="NONE"
                                      themeNames="no-row-borders column-borders compact row-stripes"
                                      allRowsVisible="true" width="950px">
                                <actions/>
                                <columns sortable="false">
                                    <column property="titleAndCode" header="Object Class" width="240px"/>
                                    <column property="totalTwoYearAllocations" header="Allocations" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalTwoYearProjections" header="Projections" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalTwoYearObligations" header="Obligations" textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalTwoYearReimbursements" header="Reimburse." textAlign="END"
                                            width="135px">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                    <column property="totalTwoYearBalance" header="Balance" textAlign="END">
                                        <numberRenderer numberFormat="#,##0"/>
                                        <aggregation type="SUM">
                                            <formatter>
                                                <number format="#,##0"/>
                                            </formatter>
                                        </aggregation>
                                    </column>
                                </columns>
                            </dataGrid>
                        </details>
                    </vbox>
                </tab>
                <tab id="mocChart" label="Obligations by Category">
                    <vbox>
                        <charts:chart id="pie" width="40em" height="80%" minHeight="30em" alignSelf="STRETCH">
                            <charts:series>
                                <charts:pie name="Obligations" radius="50% 80%">
                                    <charts:label formatter="{b} : {d}%"/>
                                </charts:pie>
                            </charts:series>
                        </charts:chart>
                        <integerField label="yup"/>
                    </vbox>
                </tab>
            </tabSheet>

        </vbox>
    </content>
</fragment>